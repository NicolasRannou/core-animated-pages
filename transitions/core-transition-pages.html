<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link href="../../polymer/polymer.html" rel="import">
<link href="../../core-transition/core-transition.html" rel="import">

<polymer-element name="core-transition-pages" extends="core-transition">
<script>

  Polymer({

    registerCallback: function(element) {
      if (element.templateContent()) {
        this.transitionStyle = element.templateContent().firstElementChild;
      }
    },

    // template is just for loading styles, we don't need a shadowRoot
    fetchTemplate: function() {
      return null;
    },

    install: function(scope) {
      if (!scope._pageTransitionStyles) {
        scope._pageTransitionStyles = {};
      }
      
      if (!scope._pageTransitionStyles[this.tagName]) {
        if (!scope.shadowRoot) {
          scope.createShadowRoot().innerHTML = '<content></content>';
        }
        this.installScopeStyle(this.transitionStyle, 'transition', scope.shadowRoot);
        scope._pageTransitionStyles[this.tagName] = true;
      }
    }
  });

</script>
</polymer-element>
