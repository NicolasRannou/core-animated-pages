<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link href="core-pages-transition.html" rel="import">

<!--

`slide-down` slides elements down during a page transition. The element to be animated
should set the `slide-down` attribute. By default the element slides by an amount equal
to its height. You can customize the this value with the `amount` attribute.

You can globally configure the duration of the transition with the global variable
`CoreStyle.g.transitions.slideTransition`.

Example:

    <core-animated-pages transition="slide-down">
        <section layout vertical>
              <div flex>Page 0</div>
              <core-toolbar id="bottom-toolbar" slide-down>Bottom Bar</core-toolbar>
        </section>
        <section layout vertical>
              <core-toolbar id="top-toolbar" slide-down>Top Bar</core-toolbar>
              <div flex>Page 1</div>
        </section>
    </core-animated-pages>

In the above example, when the page switches from 0 to 1, `#bottom-toolbar` slides down out of the
viewport while `#top-toolbar` slides into the viewport from the top.

`slide-down-self` applies the transition to all container elements:

    <core-animated-pages transition="slide-down-self">
        <section id="page0">
            Page 1
        </section>
        <section id="page1">
            Page 2
        </section>
    </core-animated-pages>

In the above example, the transition will apply to `#page0` and `#page1`.

@group Pages Transition Elements
@element slide-down
@extends core-pages-transition
@status unstable
-->

<polymer-element name="slide-down" extends="core-pages-transition">
<script>
(function() {

Polymer({

  publish: {

    amount: '100%'

  },

  selector: '[slide-down]',

  prefix: 'slide',

  srcEffectForNode: function(node) {
    return [
      {'transform': 'translateY(0)'},
      {'transform': 'translateY(' + (node.getAttribute('amount') || this.amount) + ')'}
    ];
  },

  dstEffectForNode: function(node) {
    return [
      {'transform': 'translateY(-' + (node.getAttribute('amount') || this.amount) + ')'},
      {'transform': 'translateY(0)'}
    ];
  }

});

}());
</script>
</polymer-element>

<slide-down id="slide-down"></slide-down>
<slide-down id="slide-down-self" self></slide-down>